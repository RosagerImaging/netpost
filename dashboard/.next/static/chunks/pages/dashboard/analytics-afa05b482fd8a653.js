(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{4145:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/analytics",function(){return a(6497)}])},2874:function(e,s,a){"use strict";a.d(s,{Z:function(){return DashboardLayout}});var t=a(4246),r=a(7378),l=a(9894),n=a.n(l),i=a(6677),c=a(6518),d=a(6111),x=a(4752),o=a(1842),m=a(92),h=a(4092),u=a(343),f=a(2640),g=a(6498),j=a(169),v=a(772),y=a(177),N=a(624);let p=[{name:"Dashboard",href:"/dashboard",icon:d.Z,current:!0},{name:"Inventory",href:"/dashboard/inventory",icon:x.Z,current:!1},{name:"Cross-listing",href:"/dashboard/cross-listing",icon:o.Z,current:!1},{name:"Analytics",href:"/dashboard/analytics",icon:m.Z,current:!1},{name:"SEO Analysis",href:"/dashboard/seo",icon:h.Z,current:!1},{name:"Settings",href:"/dashboard/settings",icon:u.Z,current:!1}];function DashboardLayout(e){var s,a;let{children:l}=e,[d,x]=(0,r.useState)(!1),{user:o,logout:m}=(0,c.aC)(),h=(0,i.useRouter)(),u=p.map(e=>({...e,current:h.pathname===e.href||h.pathname.startsWith(e.href+"/")})),handleLogout=async()=>{try{await m()}catch(e){console.error("Logout failed:",e)}};return(0,t.jsxs)("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[(0,t.jsxs)("div",{className:(0,N.Z)("fixed inset-0 flex z-40 lg:hidden",d?"block":"hidden"),children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>x(!1)}),(0,t.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,t.jsx)("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>x(!1),children:(0,t.jsx)(f.Z,{className:"h-6 w-6 text-white"})})}),(0,t.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,t.jsx)("div",{className:"flex-shrink-0 flex items-center px-4",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-primary-600",children:"NetPost"})}),(0,t.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:u.map(e=>(0,t.jsxs)(n(),{href:e.href,className:(0,N.Z)(e.current?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,t.jsx)(e.icon,{className:(0,N.Z)(e.current?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-4 flex-shrink-0 h-6 w-6")}),e.name]},e.name))})]}),(0,t.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{children:(0,t.jsx)(g.Z,{className:"h-8 w-8 text-gray-400"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsxs)("p",{className:"text-base font-medium text-gray-700",children:[null==o?void 0:o.firstName," ",null==o?void 0:o.lastName]}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:null==o?void 0:o.email})]})]})})]})]}),(0,t.jsx)("div",{className:"hidden lg:flex lg:flex-shrink-0",children:(0,t.jsx)("div",{className:"flex flex-col w-64",children:(0,t.jsxs)("div",{className:"flex flex-col h-0 flex-1 border-r border-gray-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,t.jsx)("div",{className:"flex items-center flex-shrink-0 px-4",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-primary-600",children:"NetPost"})}),(0,t.jsx)("nav",{className:"mt-5 flex-1 px-2 bg-white space-y-1",children:u.map(e=>(0,t.jsxs)(n(),{href:e.href,className:(0,N.Z)(e.current?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-sm font-medium rounded-md"),children:[(0,t.jsx)(e.icon,{className:(0,N.Z)(e.current?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-3 flex-shrink-0 h-6 w-6")}),e.name]},e.name))})]}),(0,t.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{children:(0,t.jsx)(g.Z,{className:"h-8 w-8 text-gray-400"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:[null==o?void 0:o.firstName," ",null==o?void 0:o.lastName]}),(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500",children:null==o?void 0:o.email})]})]}),(0,t.jsx)("button",{onClick:handleLogout,className:"ml-3 p-1 text-gray-400 hover:text-gray-500",title:"Logout",children:(0,t.jsx)(j.Z,{className:"h-5 w-5"})})]})})]})})}),(0,t.jsxs)("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[(0,t.jsx)("div",{className:"lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3",children:(0,t.jsx)("button",{className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>x(!0),children:(0,t.jsx)(v.Z,{className:"h-6 w-6"})})}),(0,t.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"/dashboard"===(a=h.pathname)?"Dashboard":a.startsWith("/dashboard/inventory")?"Inventory":a.startsWith("/dashboard/cross-listing")?"Cross-listing":a.startsWith("/dashboard/analytics")?"Analytics":a.startsWith("/dashboard/seo")?"SEO Analysis":a.startsWith("/dashboard/settings")?"Settings":"Dashboard"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("span",{className:(0,N.Z)("px-2 py-1 text-xs font-medium rounded-full",(null==o?void 0:o.subscriptionTier)==="enterprise"?"bg-purple-100 text-purple-800":(null==o?void 0:o.subscriptionTier)==="professional"?"bg-blue-100 text-blue-800":(null==o?void 0:o.subscriptionTier)==="starter"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:(null==o?void 0:null===(s=o.subscriptionTier)||void 0===s?void 0:s.toUpperCase())||"TRIAL"}),(0,t.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-500",children:(0,t.jsx)(y.Z,{className:"h-6 w-6"})}),(0,t.jsx)("div",{className:"lg:hidden",children:(0,t.jsx)("button",{onClick:handleLogout,className:"p-1 text-gray-400 hover:text-gray-500",children:(0,t.jsx)(j.Z,{className:"h-6 w-6"})})})]})]})}),(0,t.jsx)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:(0,t.jsx)("div",{className:"py-6",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l})})})]})]})}},6497:function(e,s,a){"use strict";a.r(s);var t=a(4246),r=a(7378),l=a(6552),n=a(6518),i=a(2874),c=a(3895),d=a(6431),x=a(2241),o=a(9900),m=a(92),h=a(1842),u=a(651),f=a(3862),g=a(9911),j=a(5885),v=a(8616),y=a(556),N=a(6299),p=a(4460),b=a(1215),w=a(3638),k=a(3509),Z=a(4569),D=a(9308),S=a(6246),C=a(8058),T=a(624);let B=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];s.default=(0,n.QO)(function(){let[e,s]=(0,r.useState)("30d"),[a,n]=(0,r.useState)("revenue"),{data:L,isLoading:F,error:P,refetch:O}=(0,l.useQuery)(["analytics",e],()=>c.x.getAnalytics({startDate:getStartDate(e),endDate:new Date().toISOString()}),{retry:!1}),{data:A,isLoading:E}=(0,l.useQuery)(["sales-data",e],()=>c.x.getSalesData({startDate:getStartDate(e),endDate:new Date().toISOString(),granularity:"7d"===e?"day":"30d"===e?"day":"week"}),{retry:!1});function getStartDate(e){let s=new Date,a=new Date(s.getTime()-864e5*("7d"===e?7:"30d"===e?30:"90d"===e?90:365));return a.toISOString()}null==L||L.data;let _=Array.isArray(null==A?void 0:A.data)?A.data:[],R=_.length>0?_:[{date:"2024-01-01",revenue:1200,profit:400,orders:15},{date:"2024-01-02",revenue:1800,profit:600,orders:22},{date:"2024-01-03",revenue:2100,profit:750,orders:28},{date:"2024-01-04",revenue:1600,profit:520,orders:19},{date:"2024-01-05",revenue:2400,profit:850,orders:31},{date:"2024-01-06",revenue:1900,profit:650,orders:24},{date:"2024-01-07",revenue:2200,profit:780,orders:29}],I=[{name:"eBay",value:35,sales:4200},{name:"Mercari",value:25,sales:3e3},{name:"Poshmark",value:20,sales:2400},{name:"Facebook",value:15,sales:1800},{name:"Depop",value:5,sales:600}],K=R.reduce((e,s)=>e+s.revenue,0),W=R.reduce((e,s)=>e+s.profit,0),$=R.reduce((e,s)=>e+s.orders,0),V=.85*K,G=V>0?(K-V)/V*100:0,H=.82*W,Q=H>0?(W-H)/H*100:0,q=.92*$,z=q>0?($-q)/q*100:0,M=[{name:"Total Revenue",value:K,change:G,changeType:G>=0?"increase":"decrease",icon:d.Z,format:"currency"},{name:"Total Profit",value:W,change:Q,changeType:Q>=0?"increase":"decrease",icon:x.Z,format:"currency"},{name:"Total Orders",value:$,change:z,changeType:z>=0?"increase":"decrease",icon:o.Z,format:"number"},{name:"Avg Order Value",value:$>0?K/$:0,change:5.2,changeType:"increase",icon:m.Z,format:"currency"}],formatValue=(e,s)=>"currency"===s?"$".concat(e.toFixed(2)):e.toString();return(0,t.jsx)(i.Z,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Track your sales performance and business metrics"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("select",{value:e,onChange:e=>s(e.target.value),className:"input-field",children:[(0,t.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,t.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,t.jsx)("option",{value:"90d",children:"Last 90 days"}),(0,t.jsx)("option",{value:"1y",children:"Last year"})]}),(0,t.jsxs)("button",{onClick:()=>O(),className:"btn-secondary flex items-center",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:M.map(e=>(0,t.jsx)("div",{className:"card",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(e.icon,{className:"h-6 w-6 text-gray-400"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),(0,t.jsxs)("dd",{className:"flex items-baseline",children:[(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:formatValue(e.value,e.format)}),(0,t.jsxs)("div",{className:(0,T.Z)("ml-2 flex items-baseline text-sm font-semibold","increase"===e.changeType?"text-green-600":"text-red-600"),children:["increase"===e.changeType?(0,t.jsx)(x.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}):(0,t.jsx)(u.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-red-500"}),(0,t.jsxs)("span",{className:"sr-only",children:["increase"===e.changeType?"Increased":"Decreased"," by"]}),Math.abs(e.change).toFixed(1),"%"]})]})]})})]})})},e.name))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Revenue Trend"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("select",{value:a,onChange:e=>n(e.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1",children:[(0,t.jsx)("option",{value:"revenue",children:"Revenue"}),(0,t.jsx)("option",{value:"profit",children:"Profit"}),(0,t.jsx)("option",{value:"orders",children:"Orders"})]})})]})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(g.h,{width:"100%",height:300,children:(0,t.jsxs)(j.w,{data:R,children:[(0,t.jsx)(v.q,{strokeDasharray:"3 3"}),(0,t.jsx)(y.K,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,t.jsx)(N.B,{}),(0,t.jsx)(p.u,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:(e,s)=>["revenue"===a||"profit"===a?"$".concat(e):e,s===a?s.charAt(0).toUpperCase()+s.slice(1):s]}),(0,t.jsx)(b.x,{type:"monotone",dataKey:a,stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Platform Breakdown"})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(g.h,{width:"100%",height:300,children:(0,t.jsxs)(w.u,{children:[(0,t.jsx)(k.b,{data:I,cx:"50%",cy:"50%",outerRadius:100,dataKey:"value",label:e=>{let{name:s,percent:a}=e;return"".concat(s," ").concat((100*a).toFixed(0),"%")},children:I.map((e,s)=>(0,t.jsx)(Z.b,{fill:B[s%B.length]},"cell-".concat(s)))}),(0,t.jsx)(p.u,{formatter:e=>["".concat(e,"%"),"Share"]})]})})})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Category Performance"})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(g.h,{width:"100%",height:400,children:(0,t.jsxs)(D.v,{data:[{name:"Clothing",revenue:5800,profit:2030},{name:"Electronics",revenue:4200,profit:1680},{name:"Accessories",revenue:2100,profit:840},{name:"Home",revenue:1800,profit:540},{name:"Other",revenue:1100,profit:330}],children:[(0,t.jsx)(v.q,{strokeDasharray:"3 3"}),(0,t.jsx)(y.K,{dataKey:"name"}),(0,t.jsx)(N.B,{}),(0,t.jsx)(p.u,{formatter:e=>["$".concat(e),""]}),(0,t.jsx)(S.D,{}),(0,t.jsx)(C.$,{dataKey:"revenue",fill:"#3B82F6",name:"Revenue"}),(0,t.jsx)(C.$,{dataKey:"profit",fill:"#10B981",name:"Profit"})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Top Performing Items"})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)("div",{className:"space-y-4",children:[{name:"Vintage Nike Sneakers",sales:8,revenue:1200},{name:"iPhone 13 Case",sales:15,revenue:900},{name:"Designer Handbag",sales:3,revenue:800},{name:"Gaming Headset",sales:12,revenue:720},{name:"Workout Clothing Set",sales:6,revenue:600}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:s+1})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.sales," sold"]})]})]}),(0,t.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["$",e.revenue]})]},e.name))})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Key Insights"})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(x.Z,{className:"h-5 w-5 text-green-500 mt-0.5"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Strong Growth"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Revenue increased by ",G.toFixed(1),"% compared to the previous period"]})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(m.Z,{className:"h-5 w-5 text-blue-500 mt-0.5"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Best Platform"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"eBay generates the highest revenue at 35% of total sales"})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(o.Z,{className:"h-5 w-5 text-purple-500 mt-0.5"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Popular Category"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Clothing items account for the highest revenue per category"})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(f.Z,{className:"h-5 w-5 text-yellow-500 mt-0.5"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Optimization Tip"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Consider increasing inventory for top-performing categories"})]})]})]})})]})]}),(0,t.jsx)("div",{className:"card",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Export Data"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Download your analytics data for further analysis"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("button",{className:"btn-secondary",children:"Export CSV"}),(0,t.jsx)("button",{className:"btn-secondary",children:"Generate Report"})]})]})})})]})})})}},function(e){e.O(0,[216,888,179],function(){return e(e.s=4145)}),_N_E=e.O()}]);