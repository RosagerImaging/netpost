(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{1362:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/inventory",function(){return s(2654)}])},2874:function(e,t,s){"use strict";s.d(t,{Z:function(){return DashboardLayout}});var a=s(4246),r=s(7378),l=s(9894),i=s.n(l),n=s(6677),c=s(6518),d=s(6111),o=s(4752),x=s(1842),m=s(92),h=s(4092),u=s(343),g=s(2640),y=s(6498),p=s(169),f=s(772),j=s(177),v=s(624);let b=[{name:"Dashboard",href:"/dashboard",icon:d.Z,current:!0},{name:"Inventory",href:"/dashboard/inventory",icon:o.Z,current:!1},{name:"Cross-listing",href:"/dashboard/cross-listing",icon:x.Z,current:!1},{name:"Analytics",href:"/dashboard/analytics",icon:m.Z,current:!1},{name:"SEO Analysis",href:"/dashboard/seo",icon:h.Z,current:!1},{name:"Settings",href:"/dashboard/settings",icon:u.Z,current:!1}];function DashboardLayout(e){var t,s;let{children:l}=e,[d,o]=(0,r.useState)(!1),{user:x,logout:m}=(0,c.aC)(),h=(0,n.useRouter)(),u=b.map(e=>({...e,current:h.pathname===e.href||h.pathname.startsWith(e.href+"/")})),handleLogout=async()=>{try{await m()}catch(e){console.error("Logout failed:",e)}};return(0,a.jsxs)("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[(0,a.jsxs)("div",{className:(0,v.Z)("fixed inset-0 flex z-40 lg:hidden",d?"block":"hidden"),children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>o(!1)}),(0,a.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,a.jsx)("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>o(!1),children:(0,a.jsx)(g.Z,{className:"h-6 w-6 text-white"})})}),(0,a.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,a.jsx)("div",{className:"flex-shrink-0 flex items-center px-4",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-primary-600",children:"NetPost"})}),(0,a.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:u.map(e=>(0,a.jsxs)(i(),{href:e.href,className:(0,v.Z)(e.current?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md"),children:[(0,a.jsx)(e.icon,{className:(0,v.Z)(e.current?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-4 flex-shrink-0 h-6 w-6")}),e.name]},e.name))})]}),(0,a.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{children:(0,a.jsx)(y.Z,{className:"h-8 w-8 text-gray-400"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsxs)("p",{className:"text-base font-medium text-gray-700",children:[null==x?void 0:x.firstName," ",null==x?void 0:x.lastName]}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:null==x?void 0:x.email})]})]})})]})]}),(0,a.jsx)("div",{className:"hidden lg:flex lg:flex-shrink-0",children:(0,a.jsx)("div",{className:"flex flex-col w-64",children:(0,a.jsxs)("div",{className:"flex flex-col h-0 flex-1 border-r border-gray-200 bg-white",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,a.jsx)("div",{className:"flex items-center flex-shrink-0 px-4",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-primary-600",children:"NetPost"})}),(0,a.jsx)("nav",{className:"mt-5 flex-1 px-2 bg-white space-y-1",children:u.map(e=>(0,a.jsxs)(i(),{href:e.href,className:(0,v.Z)(e.current?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-sm font-medium rounded-md"),children:[(0,a.jsx)(e.icon,{className:(0,v.Z)(e.current?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-3 flex-shrink-0 h-6 w-6")}),e.name]},e.name))})]}),(0,a.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{children:(0,a.jsx)(y.Z,{className:"h-8 w-8 text-gray-400"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:[null==x?void 0:x.firstName," ",null==x?void 0:x.lastName]}),(0,a.jsx)("p",{className:"text-xs font-medium text-gray-500",children:null==x?void 0:x.email})]})]}),(0,a.jsx)("button",{onClick:handleLogout,className:"ml-3 p-1 text-gray-400 hover:text-gray-500",title:"Logout",children:(0,a.jsx)(p.Z,{className:"h-5 w-5"})})]})})]})})}),(0,a.jsxs)("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[(0,a.jsx)("div",{className:"lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3",children:(0,a.jsx)("button",{className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>o(!0),children:(0,a.jsx)(f.Z,{className:"h-6 w-6"})})}),(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"/dashboard"===(s=h.pathname)?"Dashboard":s.startsWith("/dashboard/inventory")?"Inventory":s.startsWith("/dashboard/cross-listing")?"Cross-listing":s.startsWith("/dashboard/analytics")?"Analytics":s.startsWith("/dashboard/seo")?"SEO Analysis":s.startsWith("/dashboard/settings")?"Settings":"Dashboard"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:(0,v.Z)("px-2 py-1 text-xs font-medium rounded-full",(null==x?void 0:x.subscriptionTier)==="enterprise"?"bg-purple-100 text-purple-800":(null==x?void 0:x.subscriptionTier)==="professional"?"bg-blue-100 text-blue-800":(null==x?void 0:x.subscriptionTier)==="starter"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:(null==x?void 0:null===(t=x.subscriptionTier)||void 0===t?void 0:t.toUpperCase())||"TRIAL"}),(0,a.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-500",children:(0,a.jsx)(j.Z,{className:"h-6 w-6"})}),(0,a.jsx)("div",{className:"lg:hidden",children:(0,a.jsx)("button",{onClick:handleLogout,className:"p-1 text-gray-400 hover:text-gray-500",children:(0,a.jsx)(p.Z,{className:"h-6 w-6"})})})]})]})}),(0,a.jsx)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:(0,a.jsx)("div",{className:"py-6",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l})})})]})]})}},2654:function(e,t,s){"use strict";s.r(t);var a=s(4246),r=s(7378),l=s(6677),i=s(6552),n=s(6518),c=s(2874),d=s(3895),o=s(7750),x=s(4092),m=s(3578),h=s(4752),u=s(6070),g=s(4899),y=s(4311),p=s(9894),f=s.n(p),j=s(624);t.default=(0,n.QO)(function(){var e,t;(0,l.useRouter)();let s=(0,i.useQueryClient)(),[n,p]=(0,r.useState)(1),[v,b]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[k,Z]=(0,r.useState)(""),[C,S]=(0,r.useState)("created_at"),[_,P]=(0,r.useState)("desc"),{data:A,isLoading:F,error:D}=(0,i.useQuery)(["inventory",n,v,N,k,C,_],()=>d.x.getInventory({page:n,limit:20,search:v,category:N,status:k,sortBy:C,sortOrder:_}),{retry:!1,keepPreviousData:!0}),E=(0,i.useMutation)(e=>d.x.deleteInventoryItem(e),{onSuccess:()=>{s.invalidateQueries("inventory"),window.toast&&window.toast.success("Item deleted successfully")},onError:e=>{window.toast&&window.toast.error(e.message||"Failed to delete item")}}),handleDelete=async(e,t)=>{confirm('Are you sure you want to delete "'.concat(t,'"? This action cannot be undone.'))&&E.mutate(e)},resetFilters=()=>{b(""),w(""),Z(""),p(1)},L=(null==A?void 0:null===(e=A.data)||void 0===e?void 0:e.items)||[],T=null==A?void 0:null===(t=A.data)||void 0===t?void 0:t.pagination,I={active:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",sold:"bg-blue-100 text-blue-800",archived:"bg-gray-100 text-gray-800",grayed_out:"bg-red-100 text-red-800"};return(0,a.jsx)(c.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Manage your product inventory and listings"})]}),(0,a.jsxs)(f(),{href:"/dashboard/inventory/new",className:"btn-primary",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"card-body",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p(1)},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("input",{type:"text",name:"search",id:"search",value:v,onChange:e=>b(e.target.value),className:"input-field pl-10",placeholder:"Search by title, SKU..."}),(0,a.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,a.jsxs)("select",{id:"category",name:"category",value:N,onChange:e=>w(e.target.value),className:"mt-1 input-field",children:[(0,a.jsx)("option",{value:"",children:"All Categories"}),(0,a.jsx)("option",{value:"clothing",children:"Clothing"}),(0,a.jsx)("option",{value:"electronics",children:"Electronics"}),(0,a.jsx)("option",{value:"home",children:"Home & Garden"}),(0,a.jsx)("option",{value:"books",children:"Books"}),(0,a.jsx)("option",{value:"toys",children:"Toys & Games"}),(0,a.jsx)("option",{value:"other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsxs)("select",{id:"status",name:"status",value:k,onChange:e=>Z(e.target.value),className:"mt-1 input-field",children:[(0,a.jsx)("option",{value:"",children:"All Statuses"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"sold",children:"Sold"}),(0,a.jsx)("option",{value:"archived",children:"Archived"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"sort",className:"block text-sm font-medium text-gray-700",children:"Sort By"}),(0,a.jsxs)("select",{id:"sort",name:"sort",value:"".concat(C,"-").concat(_),onChange:e=>{let[t,s]=e.target.value.split("-");S(t),P(s)},className:"mt-1 input-field",children:[(0,a.jsx)("option",{value:"created_at-desc",children:"Newest First"}),(0,a.jsx)("option",{value:"created_at-asc",children:"Oldest First"}),(0,a.jsx)("option",{value:"title-asc",children:"Title A-Z"}),(0,a.jsx)("option",{value:"title-desc",children:"Title Z-A"}),(0,a.jsx)("option",{value:"retail_price-desc",children:"Price High-Low"}),(0,a.jsx)("option",{value:"retail_price-asc",children:"Price Low-High"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("button",{type:"button",onClick:resetFilters,className:"btn-outline",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),(0,a.jsx)("button",{type:"submit",className:"btn-primary",children:"Apply Filters"})]})]})})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"overflow-hidden",children:F?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"spinner"})}):D?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("div",{className:"text-red-500",children:"Error loading inventory"})}):0===L.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(h.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No inventory items"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:v||N||k?"No items match your current filters.":"Get started by creating your first inventory item."}),(0,a.jsx)("div",{className:"mt-6",children:v||N||k?(0,a.jsx)("button",{onClick:resetFilters,className:"btn-outline",children:"Clear Filters"}):(0,a.jsx)(f(),{href:"/dashboard/inventory/new",className:"btn-primary",children:"Add Item"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:e.images&&e.images[0]?(0,a.jsx)("img",{className:"h-10 w-10 rounded-lg object-cover",src:e.images[0],alt:e.title}):(0,a.jsx)("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"h-5 w-5 text-gray-400"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.brand&&"".concat(e.brand," â€¢ "),e.condition]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sku}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.category}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",e.retail_price]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.quantity_available," / ",e.quantity_total]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:(0,j.Z)("inline-flex px-2 py-1 text-xs font-semibold rounded-full",I[e.status]||"bg-gray-100 text-gray-800"),children:e.status})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,a.jsx)(f(),{href:"/dashboard/inventory/".concat(e.id),className:"text-primary-600 hover:text-primary-900",title:"View",children:(0,a.jsx)(u.Z,{className:"h-4 w-4"})}),(0,a.jsx)(f(),{href:"/dashboard/inventory/".concat(e.id,"/edit"),className:"text-gray-600 hover:text-gray-900",title:"Edit",children:(0,a.jsx)(g.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>handleDelete(e.id,e.title),className:"text-red-600 hover:text-red-900",title:"Delete",disabled:E.isLoading,children:(0,a.jsx)(y.Z,{className:"h-4 w-4"})})]})]},e.id))})]})}),T&&T.totalPages>1&&(0,a.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,a.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,a.jsx)("button",{onClick:()=>p(Math.max(1,n-1)),disabled:1===n,className:"btn-outline",children:"Previous"}),(0,a.jsx)("button",{onClick:()=>p(Math.min(T.totalPages,n+1)),disabled:n===T.totalPages,className:"btn-outline ml-3",children:"Next"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing"," ",(0,a.jsx)("span",{className:"font-medium",children:(n-1)*20+1})," ","to"," ",(0,a.jsx)("span",{className:"font-medium",children:Math.min(20*n,T.total)})," ","of"," ",(0,a.jsx)("span",{className:"font-medium",children:T.total})," results"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,a.jsx)("button",{onClick:()=>p(Math.max(1,n-1)),disabled:1===n,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:T.totalPages},(e,t)=>t+1).filter(e=>1===e||e===T.totalPages||2>=Math.abs(e-n)).map((e,t,s)=>(0,a.jsxs)("div",{children:[t>0&&s[t-1]!==e-1&&(0,a.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}),(0,a.jsx)("button",{onClick:()=>p(e),className:(0,j.Z)("relative inline-flex items-center px-4 py-2 border text-sm font-medium",e===n?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:e})]},e)),(0,a.jsx)("button",{onClick:()=>p(Math.min(T.totalPages,n+1)),disabled:n===T.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]})})})]})})})}},function(e){e.O(0,[216,888,179],function(){return e(e.s=1362)}),_N_E=e.O()}]);