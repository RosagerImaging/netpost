(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{6321:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(2060)}])},3895:function(e,t,r){"use strict";r.d(t,{x:function(){return s}});var n=r(7833);let s=new class{setToken(e){this.token=e,localStorage.setItem("netpost_token",e)}getToken(){return this.token||(this.token=localStorage.getItem("netpost_token")),this.token}clearToken(){this.token=null,localStorage.removeItem("netpost_token")}async get(e,t){try{let r=await this.client.get(e,{params:t});return r.data}catch(e){throw this.handleError(e)}}async post(e,t){try{let r=await this.client.post(e,t);return r.data}catch(e){throw this.handleError(e)}}async put(e,t){try{let r=await this.client.put(e,t);return r.data}catch(e){throw this.handleError(e)}}async delete(e){try{let t=await this.client.delete(e);return t.data}catch(e){throw this.handleError(e)}}handleError(e){var t,r,n;return(null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:null===(t=r.error)||void 0===t?void 0:t.message)?Error(e.response.data.error.message):e.message?Error(e.message):Error("An unexpected error occurred")}async login(e,t){return this.post("/auth/login",{email:e,password:t})}async register(e,t,r,n){return this.post("/auth/register",{email:e,password:t,firstName:r,lastName:n})}async logout(){return this.clearToken(),{success:!0}}async getCurrentUser(){return this.get("/auth/me")}async refreshToken(){return this.post("/auth/refresh")}async getInventory(e){return this.get("/inventory/list",e)}async createInventoryItem(e){return this.post("/inventory/create",e)}async updateInventoryItem(e,t){return this.put("/inventory/".concat(e),t)}async deleteInventoryItem(e){return this.delete("/inventory/".concat(e))}async createCrossListing(e){return this.post("/crosslisting/create",e)}async getCrossListingStatus(e){return this.get("/crosslisting/".concat(e))}async analyzeSEO(e,t){return this.post("/seo/analyze",{inventoryItemId:e,platform:t})}async getAnalytics(e){return this.get("/analytics/overview",e)}async getSalesData(e){return this.get("/analytics/sales",e)}constructor(){this.token=null,this.client=n.Z.create({baseURL:"".concat("https://your-production-domain.com","/api"),headers:{"Content-Type":"application/json"},timeout:3e4}),this.client.interceptors.request.use(e=>{let t=this.getToken();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)!==401||(this.clearToken(),window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject(e)})}}},6518:function(e,t,r){"use strict";r.d(t,{Ho:function(){return AuthProvider},QO:function(){return withAuth},aC:function(){return useAuth}});var n=r(4246),s=r(7378),a=r(6677),o=r(3895);let i=(0,s.createContext)(void 0);function AuthProvider(e){let{children:t}=e,[r,c]=(0,s.useState)(null),[u,l]=(0,s.useState)(!0),h=(0,a.useRouter)();(0,s.useEffect)(()=>{initializeAuth()},[]);let initializeAuth=async()=>{let e=o.x.getToken();if(e)try{let e=await o.x.getCurrentUser();e.success&&e.data?c(e.data):o.x.clearToken()}catch(e){console.error("Failed to initialize auth:",e),o.x.clearToken()}l(!1)},login=async(e,t)=>{try{let n=await o.x.login(e,t);if(n.success&&n.data)o.x.setToken(n.data.token),c(n.data.user),h.push("/dashboard");else{var r;throw Error((null===(r=n.error)||void 0===r?void 0:r.message)||"Login failed")}}catch(e){throw e}},register=async(e,t,r,n)=>{try{let a=await o.x.register(e,t,r,n);if(a.success&&a.data)o.x.setToken(a.data.token),c(a.data.user),h.push("/dashboard");else{var s;throw Error((null===(s=a.error)||void 0===s?void 0:s.message)||"Registration failed")}}catch(e){throw e}},logout=async()=>{try{await o.x.logout(),c(null),h.push("/login")}catch(e){console.error("Logout error:",e),c(null),h.push("/login")}};return(0,n.jsx)(i.Provider,{value:{user:r,loading:u,login,register,logout,isAuthenticated:!!r},children:t})}function useAuth(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function withAuth(e){return function(t){let{user:r,loading:o}=useAuth(),i=(0,a.useRouter)();return((0,s.useEffect)(()=>{o||r||i.push("/login")},[r,o,i]),o)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsx)("div",{className:"spinner"})}):r?(0,n.jsx)(e,{...t}):null}}},2060:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return App}});var n=r(4246),s=r(6552);r(9029);var a=r(7378);r(4277);var o=r(6518),i=r(2640),c=r(6665),u=r(5014),l=r(2334),h=r(6095);function ToastContainer(e){let{toasts:t,onRemove:r}=e;return 0===t.length?null:(0,n.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-4",children:t.map(e=>(0,n.jsx)(ToastItem,{toast:e,onRemove:r},e.id))})}function ToastItem(e){let{toast:t,onRemove:r}=e,[s,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{o(!0)},[]),(0,n.jsx)("div",{className:"\n        transform transition-all duration-300 ease-in-out max-w-sm w-full\n        ".concat(s?"translate-x-0 opacity-100":"translate-x-full opacity-0","\n      "),children:(0,n.jsx)("div",{className:"rounded-lg border p-4 shadow-lg ".concat((()=>{switch(t.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}})()),children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(t.type){case"success":return(0,n.jsx)(c.Z,{className:"w-5 h-5 text-green-500"});case"error":return(0,n.jsx)(u.Z,{className:"w-5 h-5 text-red-500"});case"warning":return(0,n.jsx)(l.Z,{className:"w-5 h-5 text-yellow-500"});default:return(0,n.jsx)(h.Z,{className:"w-5 h-5 text-blue-500"})}})()}),(0,n.jsx)("div",{className:"ml-3 flex-1",children:(0,n.jsx)("p",{className:"text-sm text-gray-900",children:t.message})}),(0,n.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,n.jsx)("button",{onClick:()=>{o(!1),setTimeout(()=>r(t.id),150)},className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600",children:(0,n.jsx)(i.Z,{className:"w-4 h-4"})})})]})})})}function Toaster(){let[e,t]=(0,a.useState)([]),addToast=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,s=Math.random().toString(36).substr(2,9),a={id:s,message:e,type:r,duration:n};t(e=>[...e,a]),n>0&&setTimeout(()=>{removeToast(s)},n)},removeToast=e=>{t(t=>t.filter(t=>t.id!==e))};return(0,a.useEffect)(()=>{window.toast={success:e=>addToast(e,"success"),error:e=>addToast(e,"error"),warning:e=>addToast(e,"warning"),info:e=>addToast(e,"info")}},[]),(0,n.jsx)(ToastContainer,{toasts:e,onRemove:removeToast})}function App(e){let{Component:t,pageProps:r}=e,[i]=(0,a.useState)(()=>new s.QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e5}}}));return(0,n.jsxs)(s.QueryClientProvider,{client:i,children:[(0,n.jsxs)(o.Ho,{children:[(0,n.jsx)(t,{...r}),(0,n.jsx)(Toaster,{})]}),!1]})}},4277:function(){}},function(e){var __webpack_exec__=function(t){return e(e.s=t)};e.O(0,[216,179],function(){return __webpack_exec__(6321),__webpack_exec__(6250)}),_N_E=e.O()}]);